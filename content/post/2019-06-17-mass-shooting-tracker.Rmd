---
title: Mass Shooting Tracker
author: Lief Esbenshade
date: '2019-06-17'
draft: true
slug: mass-shooting-tracker
categories: []
tags: []
subtitle: ''
summary: ''
authors: []
lastmod: '2019-06-17T22:58:34-07:00'
featured: no
image:
  caption: ''
  focal_point: ''
  preview_only: no
projects: []
---

I had a discussion today about whether school shootings are becoming more common or if media coverage of them has become more common. Media coverage shapes our understanding of risk, and it shapes what we consider to be serious issues to address. Media coverage also doesn't necessarily move in sync with incidence rates. As a hypothetical, it could be the case that media coverage of school shooting events is increasing, leading to a perception that they are more common, when in reality the incidence of school shootings is decreasing. This is the question I am going to explore in this post.  

As a comparison, lots of American's die in car accidents, about 37,000 in 2017 according to [wikipedia](https://en.wikipedia.org/wiki/Motor_vehicle_fatality_rate_in_U.S._by_year), but car accidents hardly ever make the national news. [Wikipedia also claims](https://en.wikipedia.org/wiki/Firearm_death_rates_in_the_United_States_by_state#Overall_firearm_death_rates) that the overall rate of death by firearms in 2016 was comparable to the death rate by motor vehicles. This isn't to say that we are ignoring automobile deaths as a society, the NHTSA has worked very hard to reduce auto fatalities, with [impressive results](link).  

In this post I look at two databases for gun violence. The first is the [School Shooting Database](https://www.schoolshootingdatabase.com/) which is one Ohio man's effort to compile every school shooting in America going back to the 1800's. The other is the [Mass Shooting Tracker](https://massshootingtracker.org/data/all), a crowdsourced effort to track every mass shooting (defined as 4 or more people injured or killed) since 2013. Both of these databases rely on media reporting. There is some concern that if the data is based on media reports, and if we want to know if media coverage is increasing or shootings are increasing, then this is a pointless enterprise.  

There's also a third possibility, media coverage of shootings may not have changed at all. However, Google News and Facebook Newsfeed algorithms may make shooting news much more prominent. For media consumers, the effect is equivalent: we hear a lot more about shootings. But the responsible party is very different. I don't have the data to analyze this off the cuff (we're heading into research paper territory and beyond a blog post). But off the cuff I'd imagine running a text analysis of headlines from major newspapers plus transcripts from nightly news reports over time to measure media coverage of shootings. That information should exist somewhere on the internet in a reasonably accesible form. I'm not sure what data exists about Google News or Facebook Newsfeed content. I have heard that Facebook does not keep a record of every post that you've been shown - even for Facebook that is too much data to store. 


```{r echo = FALSE}
library(magrittr)
library(tidyverse)
library(lubridate)

```

## [School Shooting Database](https://www.schoolshootingdatabase.com/)

There are a number of ways to define school shootings. One controversial metric is to count any time a gun is discharged in a school. Another measure is to use the XX definition of 'mass shooting'

```{r}
df <-
  readxl::read_excel("/Users/williamlief/Downloads/SSS-School Shooting Database.xlsx")
  
  
  # readxl::read_excel("https://www.schoolshootingdatabase.com/app/download/5360486/SSS-School+Shooting+Database.xlsb")
```


## [Mass Shooting Tracker](https://massshootingtracker.org/data/all)

```{r}

files <-c(
  "https://docs.google.com/spreadsheets/d/1ZCjcC9MUnLKxT65GLoyJE9gQ-auEX1SxKGMvt7FNtSs/pub?output=csv",
  "https://docs.google.com/spreadsheets/d/13E93RQsGo3XiBxITb9FSXEKSwXRdhQJ7fi3hm2FqGk8/pub?output=csv",
  "https://docs.google.com/spreadsheets/d/11KB81s3udI0evoIr-19MXb3aoqZvxiZIxyg0GXz_2rc/pub?output=csv",
  "https://docs.google.com/spreadsheets/d/1JbPA0RItVsqBFG72tVRrYv9ezC_8Qb2VLh6eJ7cxqXQ/pub?gid=0&single=true&output=csv",
  "https://docs.google.com/spreadsheets/d/1yrL1zCU5xV5q-q2X5xqXN8MCoAuhe-UogZXljshUU0k/pub?gid=0&single=true&output=csv",
  "https://docs.google.com/spreadsheets/d/14cQykQyMV7ZMiU4Av0yASV_4PF1YxM0r6bHnvdhdrtg/pub?gid=0&single=true&output=csv",
  "https://docs.google.com/spreadsheets/d/1WY74BHQy2kYhHod61wcqI35CHy-hnPsim2fFw_XcJCU/gviz/tq?tqx=out:csv&sheet=2019"
  )

df <- 
  lapply(files, readr::read_csv) %>% 
  bind_rows() %>% 
  select(-starts_with("X")) %>% 
  mutate(date = mdy(date),
         month = month(date), 
         year = year(date))
```


```{r}
df %>% 
  filter(year != 2019) %>% 
  group_by(year) %>% 
  summarize(
    shootings = n(),
    killed = sum(killed, na.rm = T), 
    wounded = sum(wounded, na.rm = T),
    victim_rate = (killed+wounded) / shootings) %>% 
  knitr::kable(caption = "2013-2018", digits = 2)
```


```{r}
df %>% 
  filter(month <= 5) %>% 
  group_by(year) %>% 
  summarize(
    shootings = n(),
    killed = sum(killed, na.rm = T), 
    wounded = sum(wounded, na.rm = T),
    victim_rate = (killed+wounded) / shootings) %>% 
  knitr::kable(caption = "January through May", digits = 2)
```



